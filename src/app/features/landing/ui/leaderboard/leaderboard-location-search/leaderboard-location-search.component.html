@let clearButtonVisible = clearButtonVisible$ | async;

<div class="location-search">
    <div class="location-search-input-wrap">
        <input
            #searchInput
            name="search"
            type="text"
            [formControl]="searchControl"
            placeholder="Search (USA, Brazil, Miami...)"
            class="location-search-input"
            [class.location-search-input--filled]="clearButtonVisible"
            autocomplete="off"
            (focus)="onFocus()"
            (blur)="onBlur()"/>
        @if (clearButtonVisible) {
            <button
                mat-icon-button
                aria-label="Clear search"
                class="clear-button"
                (click)="clearSearch($event)">
                <svg-icon
                    src="assets/svg/close.svg"
                    aria-hidden="true" />
            </button>
        }
    </div>

    @if (suggestionsVisible()) {
        <ul class="suggestions">
            @for (option of options(); track $index) {
                <li>
                    <button
                        class="suggestion-item"
                        (mousedown)="onSuggestionsMouseDown($index)">
                        {{ option }}
                    </button>
                </li>
            }
        </ul>
    }
</div>
